<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>BurgerCraft üçî - Crea il tuo panino</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>üçî BurgerCraft ‚Äì Crea il tuo panino!</h1>

    <form action="fidelity.html" method="POST" id="burgerForm">
        <!-- Dati utente -->
        <fieldset>
            <legend>Dati Utente</legend>
            <label>
                Nome e Cognome:<br>
                <input type="text" name="nome" id="nome" required minlength="3" maxlength="40">
            </label>
            <label>
                Data e Ora prenotazione:<br>
                <input type="datetime-local" name="dataPrenotazione" id="dataPrenotazione" required>
            </label>
        </fieldset>

        <!-- Scelta Pane -->
        <fieldset>
            <legend>Scegli il tipo di pane</legend>
            <label>
                <img src="img/pane_normale.jpg" alt="Pane normale">
                <input type="radio" name="pane" value="normale" data-prezzo="2" required> Pane normale
            </label>
            <label>
                <img src="img/pane_integrale.jpg" alt="Pane integrale">
                <input type="radio" name="pane" value="integrale" data-prezzo="2.5"> Pane integrale
            </label>
            <label>
                <img src="img/pane_rustico.jpg" alt="Pane rustico">
                <input type="radio" name="pane" value="rustico" data-prezzo="3"> Pane rustico
            </label>
        </fieldset>

        <!-- Scelta Carne -->
        <fieldset>
            <legend>Scegli la carne</legend>
            <label>
                <img src="img/manzo.jpg" alt="Manzo">
                <input type="radio" name="carne" value="manzo" data-prezzo="4" required> Manzo
            </label>
            <label>
                <img src="img/pollo.jpg" alt="Pollo">
                <input type="radio" name="carne" value="pollo" data-prezzo="3.5"> Pollo
            </label>
            <label>
                <img src="img/vegano.jpg" alt="Vegano">
                <input type="radio" name="carne" value="vegano" data-prezzo="3"> Vegano
            </label>
        </fieldset>

        <!-- Toppings -->
        <fieldset>
            <legend>Scegli i tuoi toppings (max 4 inclusi)</legend>
            <label><img src="img/pomodoro.jpg" alt="Pomodoro"><input type="checkbox" name="toppings[]" value="Pomodoro" data-prezzo="0.5"> Pomodoro</label>
            <label><img src="img/insalata.jpg" alt="Insalata"><input type="checkbox" name="toppings[]" value="Insalata" data-prezzo="0.5"> Insalata</label>
            <label><img src="img/formaggio.jpg" alt="Formaggio"><input type="checkbox" name="toppings[]" value="Formaggio" data-prezzo="0.5"> Formaggio</label>
            <label><img src="img/bacon.jpg" alt="Bacon"><input type="checkbox" name="toppings[]" value="Bacon" data-prezzo="0.5"> Bacon</label>
            <label><img src="img/cipolla.jpg" alt="Cipolla"><input type="checkbox" name="toppings[]" value="Cipolla" data-prezzo="0.5"> Cipolla</label>
            <label><img src="img/uovo.jpg" alt="Uovo"><input type="checkbox" name="toppings[]" value="Uovo" data-prezzo="0.5"> Uovo</label>
        </fieldset>

        <!-- Salse -->
        <fieldset>
            <legend>Scegli le salse (max 3 incluse)</legend>
            <label><img src="img/ketchup.jpg" alt="Ketchup"><input type="checkbox" name="salse[]" value="Ketchup" data-prezzo="0.5"> Ketchup</label>
            <label><img src="img/maionese.jpg" alt="Maionese"><input type="checkbox" name="salse[]" value="Maionese" data-prezzo="0.5"> Maionese</label>
            <label><img src="img/senape.jpg" alt="Senape"><input type="checkbox" name="salse[]" value="Senape" data-prezzo="0.5"> Senape</label>
            <label><img src="img/bbq.jpg" alt="BBQ"><input type="checkbox" name="salse[]" value="BBQ" data-prezzo="0.5"> BBQ</label>
            <label><img src="img/burger.jpg" alt="Burger"><input type="checkbox" name="salse[]" value="Burger" data-prezzo="0.5"> Burger</label>
        </fieldset>

        <!-- Bevanda -->
        <fieldset>
            <legend>Scegli la bevanda</legend>
            <select name="bevanda" id="bevanda">
                <option value="nessuna" data-prezzo="0">Nessuna bevanda</option>
                <option value="acqua" data-prezzo="1">Acqua</option>
                <option value="cocacola" data-prezzo="2">Coca-Cola</option>
                <option value="fanta" data-prezzo="2">Fanta</option>
                <option value="pepsi" data-prezzo="2">Pepsi</option>
                <option value="monster" data-prezzo="3">Monster (POWER +10)</option>
            </select>
        </fieldset>

        <!-- Prezzo Totale -->
        <div class="price-box">
            Prezzo Totale: <span id="totale">0.00</span> ‚Ç¨
        </div>

        <button type="submit">Continua ‚Üí</button>
    </form>

    <footer>
        Creato da Manuz üçî ‚Äì Progetto di Informatica
    </footer>

    <script>
        const form = document.getElementById('burgerForm');
        const totaleSpan = document.getElementById('totale');

        function calcolaPrezzo() {
            let totale = 0;

            // pane + carne
            const radioGroups = form.querySelectorAll('input[type="radio"]:checked');
            radioGroups.forEach(el => totale += parseFloat(el.dataset.prezzo));

            // toppings
            const toppings = form.querySelectorAll('input[name="toppings[]"]:checked');
            let extraToppings = Math.max(0, toppings.length - 4);
            toppings.forEach(el => totale += parseFloat(el.dataset.prezzo));
            totale += extraToppings * 1; // +1‚Ç¨ per extra topping

            // salse
            const salse = form.querySelectorAll('input[name="salse[]"]:checked');
            let extraSalse = Math.max(0, salse.length - 3);
            salse.forEach(el => totale += parseFloat(el.dataset.prezzo));
            totale += extraSalse * 1; // +1‚Ç¨ per extra salsa

            // bevanda
            const bevanda = document.querySelector('#bevanda option:checked');
            totale += parseFloat(bevanda.dataset.prezzo);

            totaleSpan.textContent = totale.toFixed(2);
        }

        form.addEventListener('change', calcolaPrezzo);
        window.addEventListener('DOMContentLoaded', calcolaPrezzo);
    </script>
</body>
</html>
